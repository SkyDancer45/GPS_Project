namespace GPS.Api.Endpoint;
using GPS.Api.Dtos;
public static class UserInfoEndpoint
{

  private static readonly List<UserDtos> users = [new("al12", "132"), new("ah23", "423")];
  public static WebApplication MapUserInfoEndpoints(this WebApplication app)
  {
    var userInfo = app.MapGroup("/user/");

    userInfo.MapGet("login/{userName}/{userPassword}", (string userName, string userPassword) =>
    {
      var target = users.Find(g => g.Username == userName);
      if (target == null || target.Password != userPassword)
      {
        return Results.NotFound("Incorrect Credentuas entered");
      }
      else
      {
        return Results.Ok("Correct Credentials Entered");
      }
    });

    return app;
  }
}
